<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4-7-8 Breathing App</title>
		<link href="https://fonts.googleapis.com/css2?family=Material+Icons"
		rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
		rel="stylesheet">
		<link rel="stylesheet" href="css/dropdown.css"> <!-- выше индекса, иначе не показывается -->
    <link rel="stylesheet" href="css/index.css">
		<link rel="stylesheet" href="css/mobile.css">
		<link rel="stylesheet" href="css/theme.css">
</head>
<body>
  <div class="container">

		<div class="menu_theme_language">
			<button class="theme-toggle-button material-symbols-outlined">light_mode</button>
			<button class="language-toggle-button">EN</button>
		</div>

		<div class="dropdown active">
			<input placeholder="выберите продолжительность" readonly>
			<ul id="time-range" class="options">
				<li class="option" id="option1">1 минута - 3 цикла</li>
				<li class="option" id="option2">3 минуты - 9 циклов</li>
			</ul>
		</div>

		<div class="btn_wrap">
			<button class="start-button">старт</button>
		</div>
		<button class="stop-button">стоп</button>

		<div class="stats-container">
			<h3>Ваша статистика</h3>
			<div class="stats-grid">
				<div class="stat-card">
					<div class="stat-value" id="totalSessions">0</div>
					<div class="stat-label">Всего сеансов</div>
				</div>
				<div class="stat-card">
					<div class="stat-value" id="totalMinutes">0</div>
					<div class="stat-label">Минут</div>
				</div>
				<div class="stat-card">
					<div class="stat-value" id="totalCycles">0</div>
					<div class="stat-label">Циклов</div>
				</div>
			</div>
			<div class="last-session">
				Последний сеанс: <span id="lastSessionDate">не было</span>
			</div>
		</div>
  </div>


	<!-- Firebase SDK -->
	<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
  import { getFirestore, doc, setDoc, increment, collection, addDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore.js";
		const firebaseConfig = {
			apiKey: "AIzaSyCzoQrymo_jLHHlMehaS7FJ-7lQrIDZfCc",
			authDomain: "breath-e7030.firebaseapp.com",
			databaseURL: "https://breath-e7030-default-rtdb.europe-west1.firebasedatabase.app",
			projectId: "breath-e7030",
			storageBucket: "breath-e7030.firebasestorage.app",
			messagingSenderId: "780544276848",
			appId: "1:780544276848:web:b0274a3224bd6570d837b5",
		};
	  const app = initializeApp(firebaseConfig);
	  const db = getFirestore(app);
		// Делаем переменные доступными глобально
		window.firebase = {
    db,
    firestore: { doc, setDoc, increment, collection, addDoc, getDoc }
  };
	</script>

	<!-- Аудио элементы для звуков дыхания -->
	<audio id="inhaleSound" src="sounds/inhale.m4a" preload="auto"></audio>
	<audio id="holdSound" src="sounds/hold.m4a" preload="auto"></audio>
	<audio id="exhaleSound" src="sounds/exhale.mp3" preload="auto" ></audio>

	<script src="js/firebase.js"></script>
	<script src="js/translation.js"></script>
	<script src="js/theme.js"></script>
	<script src="js/dropdown.js"></script>
  <script src="js/index.js"></script>
</body>